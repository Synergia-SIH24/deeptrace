import{h as n,i as S,b as k,W as R,X as g,v as N,u,Y as d,d as T,j as E,g as O,E as Y,Z as b,_ as q,O as v,a0 as x,a1 as F}from"./runtime.BjDaq2n6.js";function j(a,f,e,c=null,i=!1){n&&S();var s=a,r=null,t=null,l=null,y=i?Y:0;k(()=>{if(l===(l=!!f()))return;let h=!1;if(n){const A=s.data===R;l===A&&(s=g(),N(s),u(!1),h=!0)}l?(r?d(r):r=T(()=>e(s)),t&&E(t,()=>{t=null})):(t?d(t):c&&(t=T(()=>c(s))),r&&E(r,()=>{r=null})),h&&u(!0)},y),n&&(s=O)}function _(a,f){return a===f||(a==null?void 0:a[F])===f}function B(a={},f,e,c){return b(()=>{var i,s;return q(()=>{i=s,s=[],v(()=>{a!==e(...s)&&(f(a,...s),i&&_(e(...i),a)&&f(null,...i))})}),()=>{x(()=>{s&&_(e(...s),a)&&f(null,...s)})}}),a}export{B as b,j as i};
